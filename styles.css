*{box-sizing:border-box}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;color:#222}
header{display:flex;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid #eee;background:#fff;position:sticky;top:0;z-index:500}
header .logo{height:36px}
h1{font-size:18px;margin:0;flex:1}
.status-bar{display:flex;gap:10px;align-items:center}
.dot{padding:4px 8px;border-radius:6px;font-size:12px;border:1px solid #ddd}
.dot.green{background:#e8f8ef;color:#0e8b49;border-color:#bde6cd}
.dot.red{background:#ffecec;color:#b10000;border-color:#ffd0d0}
.dot.gray{background:#f3f3f3;color:#666;border-color:#e5e5e5}
.controls{display:flex;gap:14px;align-items:end;padding:10px 14px;border-bottom:1px solid #eee;background:#fafafa}
.controls label{display:block;font-size:12px;margin-bottom:4px;color:#444}
.controls input{padding:6px 8px;border:1px solid #ddd;border-radius:6px;min-width:140px}
.controls button{padding:8px 12px;border:1px solid #0b67ff;border-radius:8px;background:#0b67ff;color:#fff;cursor:pointer}
main{display:grid;grid-template-columns:1fr 320px;gap:0;height:calc(100vh - 146px)}
#map{height:100%;width:100%}
aside{border-left:1px solid #eee;padding:10px 12px;overflow:auto}
aside h3{margin:4px 0 8px}
#userList{list-style:none;margin:0;padding:0}
#userList li{display:flex;align-items:center;justify-content:space-between;border-bottom:1px dashed #eee;padding:8px 4px;gap:8px}
.badge{font-size:11px;border:1px solid #ddd;border-radius:999px;padding:2px 8px}
.online{background:#e8f8ef;border-color:#bde6cd;color:#0e8b49}
.offline{background:#f3f3f3;color:#666}
.legend-icon{height:18px;vertical-align:middle;margin:0 6px 0 16px}
@media (max-width: 900px){
  main{grid-template-columns:1fr;height:auto}
  #map{height:60vh}
  aside{height:40vh}
}